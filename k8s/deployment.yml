apiVersion: apps/v1
kind: Deployment
metadata:
  name: tecverify-be
spec:
  replicas: 1
  selector:
    matchLabels:
      app: tecverify-be
  template:
    metadata:
      labels:
        app: tecverify-be

    spec:
      containers:
        - name: tecverify-be
          image: naveenmasuna/backend_tecverify:BE_Rishitha
          imagePullPolicy: "Always"
          resources:
            limits:
              memory: 64Mi
              cpu: 150m
            requests:
              memory: 32Mi
              cpu: 50m
          # livenessProbe:
          #   httpGet:
          #     path: /health
          #     port: 8000
          #   initialDelaySeconds: 30
          #   periodSeconds: 5
          # readinessProbe:
          #   httpGet:
          #     path: /ready
          #     port: 8000
          #   initialDelaySeconds: 30
          #   periodSeconds: 5
          ports:
            - containerPort: 443
          # env:
          #   - name: CLIENT_ID
          #     value: 0oa164ptl0ySnZSb50h8
          #   - name: ISSUER
          #     value: https://tecnics-demo.oktapreview.com
          #   - name: AUTHORIZE_TOKEN_TYPE
          #     value: idToken
          #   - name: LOGGING_LEVEL
          #     value: DEBUG
          #   - name: LOGGING_MAX_BYTES
          #     value: "1048576"
          #   - name: LOGGING_BACKUP_COUNT
          #     value: "10"
          #   - name: ENABLE_API_RATE_LIMITS
          #     value: "True"
          #   - name: API_RATE_LIMITS_PER_HOUR
          #     value: "300"
          #   - name: API_RATE_LIMITS_PER_MINUTE
          #     value: "30"
          #   - name: WHITELISTED_IPS
          #     value: "127.0.0.1"
          #   - name: TZ
          #     value: Asia/Kolkata
          #   - name: SALT
          #     value: MSHANKER
          #   - name: DATABASE_TYPE
          #     value: JSON
          #   - name: SECRETS_FILE
          #     value: secrets.json
          #   - name: MS_SQL_SERVER
          #     value: "192.168.2.38"
          #   - name: MS_SQL_USERNAME
          #     value: NaveenMasuna
          #   - name: MS_SQL_PASSWORD
          #     value: Tecnics@123
          #   - name: DATABASE_NAME
          #     value: TecVerify
          #   - name: TABLE_NAME
          #     value: Secrets
          #   - name: AUTOSAVED_SECRET_USERNAME_HEAD
          #     value: TecVerify
          #   - name: ENCRYPTED_API_KEY
          #     value: b'C\xb5\x02M\x10N\x80\xd0O\xc8z\xabV>\x9aW\xb5\x17c&N\x95\x92\xb7&t@Y\xa9\xf5"]\xa0\xd4]\x9f\xc6\xfct\xb9\xefYWy\x86_^\xac'
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: tecverify-fe
spec:
  replicas: 1
  selector:
    matchLabels:
      app: tecverify-fe
      
  template:
    metadata:
      labels:
        app: tecverify-fe
    spec:
      containers:
        - name: tecverify-fe
          image: naveenmasuna/frontend_tecverify:FE_Rishitha
          imagePullPolicy: "Always"
          volumeMounts:
            - name: fe-config-volume
              mountPath: /usr/share/nginx/html/config/
          resources:
            limits:
              cpu: 100m
              memory: 128Mi
            requests:
              cpu: 50m
              memory: 64Mi
          # livenessProbe:
          #   httpGet:
          #     path: /health
          #     port: 8080
          #   initialDelaySeconds: 30
          #   periodSeconds: 5
          # readinessProbe:
          #   httpGet:
          #     path: /ready
          #     port: 8080
          #   initialDelaySeconds: 30
          #   periodSeconds: 5
          ports:
            - containerPort: 443
      volumes:
        - name: fe-config-volume
          configMap:
            name: tecverify-fe-config